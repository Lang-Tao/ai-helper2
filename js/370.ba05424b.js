"use strict";(self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[]).push([[370],{9370:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"0"}},[a("div",{staticClass:"info-box"},[a("div",{staticClass:"functions"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.branch,callback:function(e){t.branch=e},expression:"branch"}},t._l(t.branchList,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value}},[a("i",{staticClass:"iconfont icon-code-branch",staticStyle:{"margin-right":"10px"}}),a("span",[t._v(t._s(e.value))])])})),1)],1),t._m(0)]),a("div",{staticClass:"repository"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.files,"show-header":!1}},[a("el-table-column",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(e){return["dir"===e.row.type?a("el-icon",{staticClass:"el-icon-folder"},[a("i",{staticClass:"el-icon-folder"})]):t._e(),"file"===e.row.type?a("el-icon",{staticClass:"el-icon-document"},[a("i",{staticClass:"el-icon-document"})]):t._e(),"dir"===e.row.type?a("span",{staticClass:"file-name",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.openFolder(e.row.name)}}},[t._v(t._s(e.row.name))]):t._e(),"file"===e.row.type?a("span",{staticClass:"file-name",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.editFile(e.row.name)}}},[t._v(t._s(e.row.name))]):t._e()]}}])})],1)],1)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info"},[s("div",{staticClass:"avator-container"},[s("img",{staticClass:"avator",attrs:{src:a(28190)}})]),s("div",{staticClass:"info-text"},[s("span",{staticClass:"title"},[t._v("[更新]更新信息测试")]),s("span",{staticClass:"description"},[t._v("admin 提交于 1个月 前")])])])}],n=(a(44114),{data(){return{files:[],path:"",repository:{},branchList:[{value:"Master"},{value:"main"}],branch:"Master"}},computed:{pathArray(){return this.path.split("/").filter((t=>t))},canGoBack(){return this.pathArray.length>0}},methods:{async fetchRepoContents(){try{console.log("click file:"+this.path);const t=await fetch(`https://api.github.com/repos/lilishop/lilishop/contents/${this.path}`);let e=await t.json();this.files=this.sortFiles(e)}catch(t){console.error("Failed to fetch repository contents:",t)}},sortFiles(t){return t.sort(((t,e)=>t.type===e.type?t.name.localeCompare(e.name):"dir"===t.type?-1:1))},openFolder(t){this.path+=`${t}/`,this.fetchRepoContents()},goBack(){this.canGoBack&&(this.pathArray.pop(),this.path=this.pathArray.join("/")+"/",this.fetchRepoContents())},editFile(t){this.$router.push({name:"code-editor",params:{filePath:this.path+t}})}},mounted(){this.fetchRepoContents()}}),o=n,r=a(81656),l=(0,r.A)(o,s,i,!1,null,"192db04b",null),c=l.exports},28190:function(t,e,a){t.exports=a.p+"img/defaultAvater.9258f0a6.jpg"}}]);
//# sourceMappingURL=370.ba05424b.js.map