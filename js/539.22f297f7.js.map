{"version":3,"file":"js/539.22f297f7.js","mappings":"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","sources":["webpack://my-app/./src/components/repositoryViews/Git.vue?8981","webpack://my-app/src/components/repositoryViews/Git.vue","webpack://my-app/./src/components/repositoryViews/Git.vue?0fa5","webpack://my-app/./src/components/repositoryViews/Git.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"0\"}},[_c('div',{staticClass:\"info-box\"},[_c('div',{staticClass:\"functions\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.branch),callback:function ($$v) {_vm.branch=$$v},expression:\"branch\"}},_vm._l((_vm.branchList),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value}},[_c('i',{staticClass:\"iconfont icon-code-branch\",staticStyle:{\"margin-right\":\"10px\"}}),_c('span',[_vm._v(_vm._s(item.value))])])}),1)],1),_vm._m(0)]),_c('div',{staticClass:\"repository\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.files,\"show-header\":false}},[_c('el-table-column',{attrs:{\"label\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type === 'dir')?_c('el-icon',{staticClass:\"el-icon-folder\"},[_c('i',{staticClass:\"el-icon-folder\"})]):_vm._e(),(scope.row.type === 'file')?_c('el-icon',{staticClass:\"el-icon-document\"},[_c('i',{staticClass:\"el-icon-document\"})]):_vm._e(),(scope.row.type === 'dir')?_c('span',{staticClass:\"file-name\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.openFolder(scope.row.name)}}},[_vm._v(_vm._s(scope.row.name))]):_vm._e(),(scope.row.type === 'file')?_c('span',{staticClass:\"file-name\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.editFile(scope.row.name)}}},[_vm._v(_vm._s(scope.row.name))]):_vm._e()]}}])})],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"avator-container\"},[_c('img',{staticClass:\"avator\",attrs:{\"src\":require(\"@/assets/img/defaultAvater.jpg\")}})]),_c('div',{staticClass:\"info-text\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"repository.commitMes\")]),_c('span',{staticClass:\"description\"},[_vm._v(\"admin 提交于 time 前\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"margin: 0;\">\r\n    <div class=\"info-box\">\r\n        <div class=\"functions\">\r\n            <el-select v-model=\"branch\" placeholder=\"请选择\">\r\n                <el-option\r\n                v-for=\"item in branchList\"\r\n                :key=\"item.value\"\r\n                :value=\"item.value\">\r\n                    <i style=\"margin-right:10px\" class=\"iconfont icon-code-branch\"></i>\r\n                    <span>{{ item.value }}</span>\r\n                </el-option>\r\n            </el-select>\r\n        </div>\r\n        <div class=\"info\">\r\n\r\n            <div class=\"avator-container\">\r\n                <img src='@/assets/img/defaultAvater.jpg' class=\"avator\">\r\n            </div>\r\n            \r\n            <div class=\"info-text\">\r\n                <span class=\"title\">repository.commitMes</span>\r\n                <span class=\"description\">admin 提交于 time 前</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"repository\">\r\n      <!-- 文件和文件夹展示 -->\r\n      <el-table :data=\"files\" :show-header=\"false\" style=\"width: 100%; \">\r\n        <el-table-column label=\"\">\r\n          <template slot-scope=\"scope\">\r\n            <el-icon v-if=\"scope.row.type === 'dir'\" class=\"el-icon-folder\">\r\n              <i class=\"el-icon-folder\"></i>\r\n            </el-icon>\r\n            <el-icon v-if=\"scope.row.type === 'file'\" class=\"el-icon-document\">\r\n              <i class=\"el-icon-document\"></i>\r\n            </el-icon>\r\n            <span class=\"file-name\" v-if=\"scope.row.type === 'dir'\" @click=\"openFolder(scope.row.name)\" style=\"cursor:pointer\">{{ scope.row.name }}</span>\r\n            <span class=\"file-name\" v-if=\"scope.row.type === 'file'\" @click=\"editFile(scope.row.name)\" style=\"cursor:pointer\">{{ scope.row.name }}</span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      files: [],\r\n      path: '',\r\n      repository: {},\r\n      branchList:[\r\n            {\r\n            value: 'Master'\r\n            },\r\n            {\r\n            value: 'main'\r\n            },\r\n        ],\r\n      branch:'Master',\r\n    };\r\n  },\r\n  computed: {\r\n    pathArray() {\r\n      return this.path.split('/').filter(folder => folder);\r\n    },\r\n    canGoBack() {\r\n      return this.pathArray.length > 0;\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchRepoContents() {\r\n      try {\r\n        console.log(\"click file:\" + this.path);\r\n        const response = await fetch(`https://api.github.com/repos/lilishop/lilishop/contents/${this.path}`);\r\n        let data = await response.json();\r\n        this.files = this.sortFiles(data);\r\n      } catch (error) {\r\n        console.error('Failed to fetch repository contents:', error);\r\n      }\r\n    },\r\n    sortFiles(files) {\r\n      return files.sort((a, b) => {\r\n        if (a.type === b.type) {\r\n          return a.name.localeCompare(b.name);\r\n        }\r\n        return a.type === 'dir' ? -1 : 1;\r\n      });\r\n    },\r\n    openFolder(folderName) {\r\n      this.path += `${folderName}/`;\r\n      this.fetchRepoContents();\r\n    },\r\n    goBack() {\r\n      if (this.canGoBack) {\r\n        this.pathArray.pop();\r\n        this.path = this.pathArray.join('/') + '/';\r\n        this.fetchRepoContents();\r\n      }\r\n    },\r\n    editFile(fileName) {\r\n      this.$router.push({ name: 'code-editor', params: { filePath: this.path + fileName } });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchRepoContents();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.el-icon-folder {\r\n  color: #83cdff;\r\n  margin-left:10px;\r\n  margin-right: 8px;\r\n}\r\n.el-icon-document {\r\n  color: #1f1f1f;\r\n  margin-left:10px;\r\n  margin-right: 8px;\r\n}\r\n.repository {\r\n  width: 97%;\r\n  margin:15px 25px;\r\n  background-color: #ffffff;\r\n  border: #b1b1b153 solid 0.5px;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n.file-name:hover {\r\n  color: #409EFF;\r\n  cursor: pointer;\r\n}\r\n.info-box{\r\n    width: 97%;\r\n    height: 180px;\r\n  margin:0px 25px 15px;\r\n  background-color: #ffffff;\r\n  border: #b1b1b153 solid 0.5px;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  overflow: hidden;\r\n}\r\n.fuctions{\r\n    margin: 10px 0 0;\r\n}\r\n.el-select{\r\n    height: 50%;\r\n    width:150px;\r\n    margin:10px 15px\r\n}\r\n.info{\r\n    background-color: #f4f9ff;\r\n    margin:0 15px 10px;\r\n    height: 105px;\r\n    border-radius: 5px;\r\n    padding: 20px 30px;\r\n    display: flex;\r\n    align-content: center;\r\n}\r\n.avator-container{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n.avator{\r\n    width:40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    margin-right: 20px;\r\n    text-align: center;\r\n}\r\n.info-text{\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    line-height: 30px;\r\n}\r\n.title{\r\n    font-size: 16px;\r\n}\r\n.description{\r\n    color:#1f1f1fac;\r\n    font-weight: 500;\r\n}\r\n#code-editor-containr {\r\n  .CodeMirror {\r\n    overflow: hidden !important;\r\n    height: auto !important;\r\n  }\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Git.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Git.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Git.vue?vue&type=template&id=1839d82e&scoped=true\"\nimport script from \"./Git.vue?vue&type=script&lang=js\"\nexport * from \"./Git.vue?vue&type=script&lang=js\"\nimport style0 from \"./Git.vue?vue&type=style&index=0&id=1839d82e&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1839d82e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","model","value","callback","$$v","branch","expression","_l","item","key","_v","_s","_m","files","scopedSlots","_u","fn","scope","row","type","_e","on","$event","openFolder","name","editFile","staticRenderFns","data","path","repository","branchList","computed","pathArray","split","filter","folder","canGoBack","length","methods","fetchRepoContents","console","log","response","fetch","json","sortFiles","error","sort","a","b","localeCompare","folderName","goBack","pop","join","fileName","$router","push","params","filePath","mounted","component"],"sourceRoot":""}