"use strict";(self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[]).push([[306],{49306:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("el-container",[i("el-aside",{staticStyle:{height:"100vh"},attrs:{width:"64px"}},[i("el-menu",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"},attrs:{"default-active":t.defaultActivePath,router:""}},[i("div",{staticClass:"logo-box"},[i("img",{staticClass:"logo-img",attrs:{src:s(99835)}})]),i("el-menu-item",{attrs:{index:"/home"}},[i("i",{staticClass:"el-icon-menu"}),i("span",{staticClass:"menu-text",staticStyle:{"margin-left":"-4.5px"},attrs:{slot:"title"},slot:"title"},[t._v("工作台")])]),i("el-menu-item",{attrs:{index:"/project"}},[i("i",{staticClass:"el-icon-folder-opened"}),i("span",{staticClass:"menu-text",attrs:{slot:"title"},slot:"title"},[t._v("项目")])]),i("el-menu-item",{attrs:{index:"/user"}},[i("i",{staticClass:"el-icon-files"}),i("span",{staticClass:"menu-text",attrs:{slot:"title"},slot:"title"},[t._v("事项")])]),i("el-menu-item",{attrs:{index:"/AIqna"}},[i("i",{staticClass:"iconfont icon-zhinengwenda",staticStyle:{"margin-left":"1px",padding:"0","line-height":"22px"}}),i("span",{staticClass:"menu-text",attrs:{slot:"title"},slot:"title"},[t._v("问答")])]),i("el-menu-item",{attrs:{index:"/check"}},[i("i",{staticClass:"el-icon-tickets"}),i("span",{staticClass:"menu-text",attrs:{slot:"title"},slot:"title"},[t._v("审查")])]),i("el-menu-item",{attrs:{index:"/team"}},[i("i",{staticClass:"el-icon-user"}),i("span",{staticClass:"menu-text",attrs:{slot:"title"},slot:"title"},[t._v("团队")])]),i("el-menu-item",{attrs:{index:"/study"}},[i("i",{staticClass:"el-icon-data-line"}),i("span",{staticClass:"menu-text",attrs:{slot:"title"},slot:"title"},[t._v("课程")])]),i("el-menu-item",{attrs:{index:"/settings"}},[i("i",{staticClass:"el-icon-setting"}),i("span",{staticClass:"menu-text",attrs:{slot:"title"},slot:"title"},[t._v("设置")])]),i("div",{staticClass:"divider"}),i("el-menu-item",{staticClass:"avatar-item",staticStyle:{"margin-top":"auto"},attrs:{index:"/person"}},[i("el-dropdown",{attrs:{placement:"bottom"}},[i("div",{staticClass:"avatar-container",staticStyle:{display:"flex","text-align":"center","justify-content":"center"}},[i("img",{staticClass:"avatar-img",attrs:{src:this.$store.state.user.avatar,alt:""}})]),i("el-dropdown-menu",{attrs:{slot:"dropdown",placement:"bottom-end"},slot:"dropdown"},[i("el-dropdown-item",[t._v("个人信息")]),i("el-dropdown-item",{nativeOn:{click:function(e){return t.$router.push("/password")}}},[t._v("修改密码")]),i("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(e){return t.logout()}}},[t._v("退出登录")])],1)],1)],1)],1)],1),i("el-container",{staticClass:"main-container",style:{marginLeft:"64px"}},[i("el-header",["//project-details"===t.ActivePath?i("div",[i("span",{staticClass:"header-router",on:{click:function(e){return t.$router.push("/project")}}},[t._v("项目")]),t.isLoading?i("el-spinner"):i("span",{staticClass:"header-title"},[t._v("/ "+t._s(t.Project.name))])],1):"//home"===t.ActivePath||"//home-task"===t.ActivePath||"//home-project"===t.ActivePath?i("div",[i("el-menu",{staticClass:"home-nav",attrs:{"default-active":t.$route.path,router:"",mode:"horizontal"}},[i("el-menu-item",{staticClass:"home-nav-item",attrs:{index:"/home"}},[i("i",{staticClass:"el-icon-document-copy",staticStyle:{"line-height":"60px","font-size":"16px !important"}}),t._v(" 研发任务工作台 ")]),i("el-menu-item",{staticClass:"home-nav-item",attrs:{index:"/home-task"}},[i("i",{staticClass:"el-icon-pie-chart",staticStyle:{"line-height":"60px","font-size":"16px !important"}}),t._v(" 任务需求工作台")]),i("el-menu-item",{staticClass:"home-nav-item",attrs:{index:"/home-project"}},[i("i",{staticClass:"el-icon-folder-opened",staticStyle:{"line-height":"60px","font-size":"16px !important"}}),t._v(" 项目管理工作台")])],1)],1):i("span",{staticClass:"header-title"},[t._v(t._s(t.currentPageTitle))])]),i("el-main",[i("router-view")],1)],1)],1)],1)},a=[],n=(s(44114),s(27673)),o={name:"manager",data(){return{defaultActivePath:"",ActivePath:"",ProjectAddress:"",Project:{},isLoading:!1}},computed:{currentPageTitle(){return this.$route.meta.title||"未命名页面"}},methods:{getProjectByAddress(t){(0,n.An)(t).then((e=>{this.isLoading=!0,console.log("地址"+t+"获取到项目："),console.log(e),0==e.code?(this.Project.name=e.data.name,this.isLoading=!1):this.$message.error("获取失败")}))},logout(){this.$confirm("确定退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$store.commit("delToken"),this.$store.commit("delUser"),this.$message({type:"success",message:"退出成功"}),this.$router.push("/login")})).catch((()=>{}))}},created(){this.defaultActivePath=`${this.$route.path.split("/").slice(0,2).join("/")}`,this.ActivePath=`/${this.$route.path.split("/").slice(0,2).join("/")}`,"//project-details"===this.ActivePath&&(this.ProjectAddress=`${this.$route.path.split("/").slice(2,3).join("/")}`,console.log(this.ProjectAddress),this.getProjectByAddress(this.ProjectAddress))},watch:{$route(t){this.ActivePath=`/${t.path.split("/").slice(0,2).join("/")}`,console.log(this.ActivePath),"//project-details"===this.ActivePath&&(this.ProjectAddress=`${this.$route.path.split("/").slice(2,3).join("/")}`,console.log(this.ProjectAddress),this.getProjectByAddress(this.ProjectAddress))}}},r=o,l=s(81656),c=(0,l.A)(r,i,a,!1,null,"ec44513a",null),d=c.exports},27673:function(t,e,s){s.d(e,{An:function(){return o},RX:function(){return c},WV:function(){return l},gA:function(){return n},vr:function(){return r},wD:function(){return a},xx:function(){return d}});var i=s(35720);function a(){return(0,i.A)({url:"/project",method:"GET",headers:{Authorization:localStorage.getItem("token")}})}function n(t){return(0,i.A)({url:"/project",method:"POST",data:t,headers:{Authorization:localStorage.getItem("token")}})}function o(t){return(0,i.A)({url:`/project/address?address=${t}`,method:"GET",headers:{Authorization:localStorage.getItem("token")}})}function r(t){return(0,i.A)({url:"/project",method:"PUT",data:t,headers:{Authorization:localStorage.getItem("token")}})}function l(t){return(0,i.A)({url:`/gitea/listpath?repo=${t}`,method:"GET",headers:{Authorization:localStorage.getItem("token")}})}function c(t,e){return(0,i.A)({url:`/gitea/getfile?path=${t}&address=${e}`,method:"GET",headers:{Authorization:localStorage.getItem("token")}})}function d(t){return(0,i.A)({url:`/project?address=${t}`,method:"DELETE",headers:{Authorization:localStorage.getItem("token")}})}},99835:function(t,e,s){t.exports=s.p+"img/AIlogo.55395316.png"}}]);
//# sourceMappingURL=306.a8d0d27a.js.map