"use strict";(self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[]).push([[54],{3054:function(t,e,r){r.r(e),r.d(e,{default:function(){return l}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{display:"flex","justify-content":"center"}},[r("div",{staticClass:"repository"},[r("div",{staticClass:"header"},[r("el-button",{attrs:{icon:"el-icon-arrow-left",disabled:!t.canGoBack},on:{click:t.goBack}},[t._v("返回")])],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.files,"show-header":!1}},[r("el-table-column",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(e){return["dir"===e.row.type?r("el-icon",{staticClass:"el-icon-folder"},[r("i",{staticClass:"el-icon-folder"})]):t._e(),"file"===e.row.type?r("el-icon",{staticClass:"el-icon-document"},[r("i",{staticClass:"el-icon-document"})]):t._e(),"dir"===e.row.type?r("span",{staticClass:"file-name",staticStyle:{cursor:"pointer"},on:{click:function(r){return t.openFolder(e.row.name)}}},[t._v(t._s(e.row.name))]):t._e(),"file"===e.row.type?r("span",{staticClass:"file-name",staticStyle:{cursor:"pointer"},on:{click:function(r){return t.editFile(e.row.name)}}},[t._v(t._s(e.row.name))]):t._e()]}}])})],1)],1)])},o=[],i=(r(4114),{data(){return{files:[],path:""}},computed:{pathArray(){return this.path.split("/").filter((t=>t))},canGoBack(){return this.pathArray.length>0}},methods:{async fetchRepoContents(){try{console.log("click file:"+this.path);const t=await fetch(`https://api.github.com/repos/lilishop/lilishop/contents/${this.path}`);let e=await t.json();this.files=this.sortFiles(e)}catch(t){console.error("Failed to fetch repository contents:",t)}},sortFiles(t){return t.sort(((t,e)=>t.type===e.type?t.name.localeCompare(e.name):"dir"===t.type?-1:1))},openFolder(t){this.path+=`${t}/`,this.fetchRepoContents()},goBack(){this.canGoBack&&(this.pathArray.pop(),this.path=this.pathArray.join("/")+"/",this.fetchRepoContents())},editFile(t){this.$router.push({name:"code-editor",params:{filePath:this.path+t}})}},mounted(){this.fetchRepoContents()}}),a=i,s=r(1656),c=(0,s.A)(a,n,o,!1,null,"86107cfc",null),l=c.exports},4527:function(t,e,r){var n=r(3724),o=r(4376),i=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(o(t)&&!a(t,"length").writable)throw new i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},6837:function(t){var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},4376:function(t,e,r){var n=r(4576);t.exports=Array.isArray||function(t){return"Array"===n(t)}},4114:function(t,e,r){var n=r(6518),o=r(8981),i=r(6198),a=r(4527),s=r(6837),c=r(9039),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),h=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},p=l||!h();n({target:"Array",proto:!0,arity:1,forced:p},{push:function(t){var e=o(this),r=i(e),n=arguments.length;s(r+n);for(var c=0;c<n;c++)e[r]=arguments[c],r++;return a(e,r),r}})}}]);
//# sourceMappingURL=54.1366c1f5.js.map